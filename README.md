# Introduction
This project implements a programming language, named *rslox*. It is a Rust implementation of *Lox* language explained by *Robert Nystorm* on [Crafting Interpreters](https://craftinginterpreters.com/). It's a compiled language, where compiler is responsible for generating byte code from source code and a virtual machine is responsible for executing that byte code. 

## Technical Details
Its compiler is implemented as single phase compiler. There are two reasons:
- This approach is simple. There is no array of tokens generated by Lexer, and complex AST generated by parser.
- It's memory efficient. Since compiler scans token on demand, parser parses expressions on demand, and as soon as an expression is successfully parsed, compiler generates byte code. Nothing huge lives in memory for a long time waiting to be processed, except for source code. 

And it's also enough for a good simple language. 

The virtual machine is a stack based virtual machine, which may seem like it's dead simple for what it does. It may look like it doesn't have enough functionality, but it is capable of handling complex tasks. It may evolve our time though, but it will still be a stack based vm. 

## Directory Structure
- `examples`: It has different examples to quickly see the output.
- `lox`: It has code of `Lox` language. You can pass a file name in cli argument like this, and it will execute the code
  - `cargo run --example cli -- --file="lox/expression.lox"`
- `src`: It has all the code related to language implementation
  - `chunk`: This module is used to store byte code generated by compiler, to be used by the virtual machine
  - `compiler`: It has `parser` module, which uses `Scanner` to scan tokens, parser evaluate expressions from given tokens and then compiler generates byte code from parsed expressions. 
  - `debug`: It has code to disassemble byte code instruction. You can enable that by using feature `debug_trace_execution`. To see the byte code instruction by instruction, you can run command
    - `cargo run --example cli --features debug_trace_execution -- --file="lox/expression.lox"` 
  - `scanner`: This module scans one token at a time, as requested by parser. Parser consumes tokens one by one, so scanner scans tokens one by one. 
  - `value`: Only contains a type `Value`, for now. It may include complex data types in future
  - `vm`: The module reponsible for executing bytecode generated by the compiler
  - `cli.rs`: This module is introduces REPL where you can evaluate your code on terminal.
  - `lib.rs`: Entry point to our project. 

## Contribution
This project is in its early stage, and right now, only looks like an over-engineered calculator. More updates are coming soon, and I'll regularly update this repo. If you have any problem, please feel free to create an issue. If you want to contribute, please create a pull request. 